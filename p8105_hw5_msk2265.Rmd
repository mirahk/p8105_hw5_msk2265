---
title: "p8105_hw5_msk2265"
author: "Mirah"
date: "`r Sys.Date()`"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(rvest)
```

```{r}
#making a data frame with all of the file names
file_names = list.files(path = "./data", full.names = TRUE)
```


```{r}
trial= purrr::map(file_names, ~read_csv(.))
  trial = set_names(trial, file_names)
data_df = bind_rows(trial, .id="file_names")
```


```{r}
data_df = data_df %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    week_1:week_8,
    names_to = "weeks",
    names_prefix = "week_",
    values_to = "measure") %>% 
  mutate(group = 
           if_else(str_detect(file_names, "con"), "control", "experimental")) %>% 
  mutate(id = match(file_names, unique(file_names))) %>% 
  select(id,everything(), -file_names)
  
      
           
```


```

